# Дипломный проект: Настройка CI/CD и инфраструктуры

Данный репозиторий содержит конфигурационные файлы и скрипты автоматизации для развертывания и поддержки полного цикла CI/CD.

## Структура репозитория

-   `terraform/`: Код Infrastructure as Code (IaC) для управления облачными ресурсами в Yandex.Cloud.
-   `ansible/`: Плейбуки и роли Ansible для автоматизированной настройки и конфигурации серверов.

## Спринт 1: Подготовка инфраструктуры (Завершено)

### Задачи

В рамках первого этапа были выполнены следующие задачи:
1.  **Проектирование инфраструктуры:** Спроектирована архитектура, включающая кластер Kubernetes (1 master, 1 worker) и выделенный служебный сервер (`srv`) для инструментов CI/CD и мониторинга.
2.  **Развертывание через Terraform:** Разработаны и применены манифесты Terraform для автоматического создания всех необходимых облачных ресурсов, включая виртуальные машины, сети и группы безопасности.
3.  **Автоматизация настройки через Ansible:** Разработан идемпотентный плейбук Ansible для полной настройки развернутых серверов. Автоматизирована установка Docker, компонентов Kubernetes (`kubeadm`, `kubelet`, `kubectl`) и инициализация кластера.

### Результат

По итогам Спринта 1 подготовлен полностью функционирующий, готовый к работе Kubernetes-кластер и настроенный служебный сервер `srv`. Вся инфраструктура и её конфигурация управляются кодом, что обеспечивает повторяемость и надежность развертывания.

---

## Спринт 2: Настройка CI/CD для приложения (В работе)

### Цели

Основной целью второго этапа является автоматизация процесса сборки и развертывания веб-приложения в подготовленный Kubernetes-кластер.

### Планируемые задачи

1.  **Анализ приложения:** Исходный код тестового Django-приложения будет форкнут в данный репозиторий. Будет проанализирован `Dockerfile` и зависимости приложения.
2.  **Настройка CI пайплайна:** Будет настроен пайплайн (предположительно, на базе GitLab CI/CD или GitHub Actions), который будет выполнять следующие шаги:
    -   Сборка Docker-образа приложения при создании нового тега в Git.
    -   Публикация собранного образа в Docker Registry с тегом, соответствующим тегу в Git.
3.  **Разработка Helm-чарта:** Будут созданы манифесты Kubernetes в формате Helm-чарта для декларативного описания развертывания приложения и его зависимостей (например, PostgreSQL). Будет реализовано персистентное хранение данных для базы данных с помощью PVC.
4.  **Настройка CD пайплайна:** Пайплайн CI будет расширен стадией деплоя (CD), которая будет автоматически применять Helm-чарт к кластеру, разворачивая новую версию приложения после успешной сборки.
5.  **Обеспечение доступа:** Приложение будет доступно по внешнему IP-адресу и порту.
